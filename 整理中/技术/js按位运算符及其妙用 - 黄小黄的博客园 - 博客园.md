js按位运算符及其妙用 - 黄小黄的博客园 - 博客园

位运算符在js中的妙用：
1、使用&运算符判断一个数的奇偶
偶数 & 1 = 0
奇数 & 1 = 1
那么0&1=0,1&1=1
2、使用~~，>>,<<,>>>,|来取整
~~3.14 = 3
3.14 >> 0 = 3
3.14 << 0 = 3 3.14 | 0 = 3 3.14 >>> 0 = 3(>>>不可对负数取整)
注意：~~-3.14 = -3 其它的一样
3、使用<<,>>来计算乘除
乘法：
1*2 = 2
1<>1 = 1(2/2的一次方)
4、利用^来完成比较两个数是否相等
1 ^ 1 = 0
1 ^ 非1数 ！=0
所以同一个数……同一个数等于0，否则不等于0
5、使用^来完成值交换
a = 1
b = 2
a ^= b
b ^= a
a ^= b
结果a=2，b=1
6、使用&,>>,|来完成rgb值和16进制颜色值之间的转换
16进制颜色值转RGB：

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5<br>6<br>7 | **function**  hexToRGB(hex){<br>    **var**  hex = hex.replace("#","0x"),<br>        r = hex >> 16,<br>        g = hex >> 8 & 0xff,<br>        b = hex & 0xff;<br>    **return**  "rgb("+r+","+g+","+b+")";<br>} |

RGB转16进制颜色值：

|     |     |
| --- | --- |
| 1<br>2<br>3<br>4<br>5 | **function**  RGBToHex(rgb){<br>    **var**  rgbArr = rgb.split(/[^\d]+/),<br>        color = rgbArr[1]<<16 \| rgbArr[2]<<8 \| rgbArr[3];<br>    **return**  "#"+color.toString(16);<br>} |

运行hexToRGB("#ffffff")返回"rgb(255,255,255)"
运行RGBToHex("rgb(255,255,255)")返回"#ffffff"

前面提到2向前移动1位变成4 利用这个特性可以做乘法运算
2 << 1 =4
3 << 1 = 6
4 << 1 = 8
同理 >> 则可以做除法运算

任何小数 把它 >> 0可以取整
如3.14159 >> 0 = 3;