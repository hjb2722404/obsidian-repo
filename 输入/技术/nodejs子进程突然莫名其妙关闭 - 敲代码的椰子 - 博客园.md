nodejs子进程突然莫名其妙关闭 - 敲代码的椰子 - 博客园

#  nodejs子进程突然莫名其妙关闭

最近在公司遇到一个很奇葩的问题，nodejs启动的子进程，在运行三天左右会自动退出，没有任何异常。最终发现是nodejs的子进程有一个属性：
// stdout、stderr 允许的最大输出大小（以 byte 为单位），如果超过了，子进程将被 kill 掉（发送 killSignal 值）。
'maxBuffer': 200 * 1024,
因为子进程一直工作就会一直有log，当log输出达到这个配置的大小，就会被杀掉。。。超级尴尬
解决方案：
      因为不管怎么调大上限，最终还是会被填满，最好的办法就是将log输出到文件，不要输出到控制台。
Measure
Measure