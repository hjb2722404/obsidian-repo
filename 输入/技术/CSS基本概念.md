# CSS基本概念

#### 原子级内联框： 

-   内联替换元素（如图像）

-   建立了新的格式化上下文的内联内容（如display设置为inline-block 或 inline-table） ^aa8e2e

不能跨行分割的（[内联框](https://www.wolai.com/qUYW9ZBQoJwo8iWzoLSpD8)和ruby容器就是可以跨行分割的）

#### 内联框

一种【[内部显示类型](https://www.wolai.com/ufsRE2WhvGp5FecxUUR98A)为流】的【非[替换元素](https://www.wolai.com/vrZzXMChUwctAKmAnKS6rD)】的内联级别框。内联框的内容与内联框本身具有相同的内联格式化上下文。

#### 内部显示类型

定义【非[替换元素](https://www.wolai.com/vrZzXMChUwctAKmAnKS6rD)】生成的格式化上下文的类型，这将指示它的后代框是如何布局的

#### 替换元素

内容不在CSS格式模型范围内的元素，例如图像或嵌入的文档。

被替换的元素通常具有自然尺寸。（例如，一个位图图像有一个以绝对单位指定的自然宽度和自然高度(自然比例显然可以确定)。另一方面，其他对象可能没有任何自然维度(例如，一个空白的HTML文档)。

用户代理可以考虑替换元素不具有任何自然维度，如果认为这些维度可能会将敏感信息泄露给第三方。例如，如果一个HTML文档根据用户的银行余额改变了自然大小，那么UA可能希望将该资源当作没有自然尺寸。

在CSS格式模型中不考虑替换元素的内容;然而，它们的[自然尺寸](https://www.wolai.com/hS7piTb7WtHbiY5ZDXW9uw)被用于各种布局计算

#### 自然尺寸

指的是自然高度、自然宽度和自然长宽比(宽度和高度之间的比率)的集合，对于给定的对象，它们中的每一个可能存在，也可能不存在。

光栅图像是一个具有所有三个自然维度的物体的例子。

按比例设计的SVG图像可能只有自然的纵横比;

SVG图像也可以只用自然的宽度或高度创建。

CSS渐变，是一个没有自然尺寸的对象的例子。

另一个没有自然尺寸的对象的例子是嵌入文档，比如HTML中的iframe元素。

许多对象，比如大多数图像，不能只有两个自然维度，因为任意两个自然维度都会自动定义第三个维度。

某些类型的替换元素，如表单控件，可以具有自然的宽度和自然的高度，但没有自然的纵横比

#### 格式化上下文

是放置一组相关框的环境

不同的格式化上下文根据不同的规则来布局它们的框。

flex格式化上下文根据【flex布局规则】来布局框

块格式化上下文根据【块和内联布局规则】来布局框

框要么建立一个新的[独立的格式化上下文](https://www.wolai.com/66s2yqWZh9H1Z7AJGqAnYr)，要么继续其包含块的格式化上下文

除非另有规定，否则建立一个新的格式化上下文将创建一个[独立的格式化上下文](https://www.wolai.com/66s2yqWZh9H1Z7AJGqAnYr)

由框建立的格式化上下文的类型由其[内部显示类型](https://www.wolai.com/ufsRE2WhvGp5FecxUUR98A)决定

#### 独立的格式化上下文

当一个框建立一个独立的格式化上下文(无论其父元素是否具有与它同样类型的格式化上下文),它都会创建一个新的、独立的布局环境

除了框自身的尺寸，无法通过框外部的上下文的规则和内容来影响它的后代的布局

某些属性可以强制一个框建立一个独立的格式化上下文，而通常情况下它不会。例如，一个[流外框](https://www.wolai.com/nqbqJUmrmrnavNWiLxystX)会导致它被阻塞，并建立一个独立的格式化上下文

在大多数情况下，强制一个框建立一个独立的格式化上下文是不可能的，要么框已经建立了一个独立的格式化上下文(例如flex容器)，要么不可能在那个类型的框上建立一个完全独立的新的格式化上下文(例如[内联框](https://www.wolai.com/qUYW9ZBQoJwo8iWzoLSpD8))。

#### 流外框

如果一个框从它预期的位置提取出来，与周围的内容交互，并在其父格式上下文中使用不同的范式来布局，那么它就是流外框。

如果盒子被浮动(通过浮动)或绝对定位(通过位置)，就会发生这种情况。

#### 流内框

如果一个盒子不是流外框，它就是流内框

#### 块容器

块容器要么只包含参与内联格式化上下文的内联级框，要么只包含参与块格式化上下文的内联级框(可能会生成匿名块框来确保这个约束)

只包含内联级内容的块容器将建立一个新的内联格式化上下文。然后，元素还生成一个根内联框，它包装了所有内联内容。注意，这个根内联框概念有效地取代了CSS2 9.2.2.1中引入的“匿名内联元素”概念

如果它的父块格式化上下文不是块格式化上下文，则块容器会建立一个新的块格式化上下文;否则，当它本身参与块格式化上下文时，它要么为其内容建立一个新的块格式化上下文，要么继续它所参与的块格式化上下文，这由其他属性(如overflow或align-content)的约束决定

如果它的父块格式化上下文不是块格式化上下文，则块容器会建立一个新的块格式化上下文;否则，当它本身参与块格式化上下文时，它要么为其内容建立一个新的块格式化上下文，要么继续它所参与的块格式化上下文，这由其他属性(如overflow或align-content)的约束决定

#### 内联级别的

参与内联布局的内容（内联级别的框和[运行的文本](https://www.wolai.com/cF2GXSPuDrZmYGbHZBM3zo)）

#### 运行的文本

在框树中运行的每个文本同样表示其对应[文本节点](https://www.wolai.com/bbDXKfEdYQqVyWm4JsckGe)的内容

#### 文本节点

组成CSS树的一种类型的内容，另一种是元素

#### 内容边缘

内容边缘围绕矩形，矩形的宽度和高度通常取决于元素的内容和/或包含块的大小。内容边的四个边一起定义了框的内容框。

#### 包含块

一个矩形，它构成了与其相关联的方框的大小和位置的基础

一个包含块不是一个框(它是一个矩形)，但是它通常是从一个框的尺寸派生出来的

每个框都给定一个相对于它的包含块的位置，但它不受这个包含块的限制;它可以溢出。

短语【一个框的包含块】是指框所在的包含块，而不是它生成的那个

通常，框的边缘充当后代框的包含块

如果引用包含块的属性，则它们引用生成包含块的框上的值

#### 匿名框

匿名框是不与任何【元素】相关联的框

#### 根内联框

由[块容器](https://www.wolai.com/hykj5YfNGMGbXp9CMYcajn)生成的匿名内联框，它包含该块容器内所有的内联级内容

#### 内联轴

行列式维度上的轴，即横写方式下的横轴和竖写方式下的纵轴

#### 行框

包含组成一行内联级内容的方框的最终矩形区域称为行框。

#### 内联级框

在正常流布局中，设置了`display:inline`的元素会生成一个内联级框

#### 逻辑宽度

行内尺寸:指水平书写模式下的物理宽度(水平尺寸)，垂直书写模式下的物理高度(垂直尺寸)

#### 换行

当内联级内容排列成行时，它在行框中被分割。这样的断行称为换行

#### 强制断行

当由于显式断行控件(例如保留的换行符)或由于块的开始或结束而断行时，它是强制断行

#### 软换行

当一行因内容换行而断行时(即当用户代理创建非强制断行以适应度量中的内容时)，它是软换行

#### 碎片

只属于一个[碎片容器](https://www.wolai.com/65Jn12ig7oTDcaU5eagtCs)的框的一部分

连续流中的一个框总是由一个碎片组成

碎片流中的一个框子由一个或多个碎片组成

每个碎片都有它自己的框边框、padding和margin，因此也有它自己的padding area、border area和margin area

#### 碎片容器

一种方框，如页方框、列方框或区域，其中包含[碎片流](https://www.wolai.com/7PfCRymjXyEiqCr9qc2Heq)的一部分(或全部)。

碎片容器可以预先定义，也可以根据需要生成。

当可破碎的内容将溢出块维度中的碎片容器时，它将在其碎片上下文中分解为下一个容器。

#### 碎片流

在碎片化背景下呈现的内容。

碎片流由一个称为碎片根的框的内容(可能是匿名的)组成。

#### 框树

CSS生成的一个中间结构

它表示所呈现文档的格式结构。

框树中的每个方框表示画布上空间和/或时间中的相应元素(或伪元素)

而方框树中的每个文本同样表示相应文本节点的内容

#### 块轴

块尺度上的轴，即横写方式下的纵轴和竖写方式下的横轴

#### 逻辑高度

块尺寸:指横写时的物理高度(垂直尺寸)，竖写时的物理宽度(水平尺寸)

#### 保留的留白

由于留白处理而没有被移除或折叠的留白称为保留的留白

#### 布局边界

内联框对其行框的逻辑高度的贡献，在这里称为其布局边界

#### 主导基线

由 ` dominant-baseline`  属性指定，是用于对齐框内内容的默认基线类型

对于内联框，主导基线用于对齐框的文本(以及任何内联级别的子框，除非vertical-align另有规定)，方法是将每个字形/框的对应基线与框自身的主导基线对齐。

#### 内联块

内联级别的块

#### 基线

基线是沿着行框的行内轴的一条线，文本的各个符号都是沿着这条线对齐的。


