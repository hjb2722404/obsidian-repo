# `TRS`前端  `mergeRequest` 规范草案

## 1.背景

我们引入新的`git`  工作流程后，加入了 `mergeRequst` 流程，有下面两重目的：

* 1.对重要分支做权限控制和分支保护，避免因操作失误导致的分支代码污染；
* 2.成员互相之间对提交的代码进行简单的评审，确保代码质量

目前，第1点的作用已经初步显现，目前没有再出现过分支代码错乱和被污染的情况。

而对于第2点，由于缺乏具体的`mergeRequest` 处理规范，其作用还未显现出来，很多质量不高的代码依旧被提到了几个主要分支上去，所以特提出本草案，目的是制定一个可执行性强的操作规范，充分发挥`mergeRequest` 的作用。

## 2.规范正文

### 2.1 基本要求

* `mergeRequest` 【请求标题】不能为默认标题，应该与任务主体内容或`JIRA`标题相关，否则不予合并；
* `mergeRequest` 【请求描述】不能为空，应该简略描述任务内容（新功能）或者Bug原因及解决方式，以供评审者参考，如若为空，不予合并；
* 分支的第一次`mergeRequest` 一定要包含版本日志的更新内容，否则不予合并；

###  2.2  代码质量检查

* 新加的方法是否都有明确的注释；
* 同样的代码是否写了多处而没有提取成公用的
* 全局公用组件或工具方法的改动是否合理（如有疑问，可将开发人员叫到一起进行评审）

### 2.3 可选检查

> 以下检查由于比较耗时，可以在手头任务工期没那么紧张的时候选择检查

* 在源分支上运行打包会不会报错。（避免未被发现的语法错误）
* 新功能交互是否符合`JIRA` 中的产品原型和`UI`设计稿
* 代码的写法是否可以优化（综合性能、可读性、可扩展性等方面因素考虑）









