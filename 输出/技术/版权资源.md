# 版权资源功能与数据接口整理

## 1.UI结构

### 1.1 共享稿库

 #### 1.1.1 栏目导航

  * 可折叠
  * 栏目树
  * 可点击直接到达栏目列表页面

#### 1.1.2 栏目列表页面
  ##### 普通表格视图列表页面

 * 操作按钮区

 * 筛选区

 * 数据表格区

 * 分页控制区

 * 版权信息区

 ##### 快速预览视图列表页面

 * 普通列表区

	* 筛选区

	* 标题列表区

	* 分页控制区

 * 版面视图列表区

	* 筛选区

	* 按日期分组的可收缩面板

 * 详情显示区

	* 操作按钮区

	* 稿件内容区

##### 普通版面视图列表

 * 操作按钮区

 * 筛选区

 * 按日期分组的可收缩面板

	* 普通表格

	* 加载更多

##### 图集稿件列表

 * 操作按钮区

 * 筛选区

 * 图集稿列表

	* 点击可幻灯片播放

	* 高度固定，宽度自适应

 * 分页控制

### 1.2 宣传部稿库

#### 1.2.1 部门级别

所有部分分为三个级别
* 自治区级宣传部
* 地州委宣传部
* 县委宣传部

#### 1.2.2 栏目列表页面

  * 普通版面视图列表

### 1.3主题稿库

#### 1.3.1 主题分类导航
* 可折叠
* 子级为具体主题

#### 1.3.2 栏目列表页面

   * 普通表格视图列表

### 1.4 新华社稿

#### 1.4.1 文字线路
* 点击加载二级栏目

##### 栏目列表页面

   * 普通表格视图列表

####  1.4.2 图片线路
* 点击加载二级栏目

##### 栏目列表页面

   * 图集稿件列表


### 1.5 新疆日报历史稿库

#### 1.5.1 报纸列表视图

* 操作按钮区

* 筛选区

* 报纸列表
* 分页控制

#### 1.5.2 快速预览视图列表页面
同共享稿库

#### 1.5.3 普通表格视图列表
同共享稿库
### 1.6 成品资源

#### 1.6.1 数字报刊

* 同新疆日报历史稿库

#### 1.6.2 网站

##### 二级栏目

   * 普通表格视图列表

   * 快速预览视图列表

####  1.6.3 客户端

* 同网站

#### 1.6. 4 微信

* 同网站

#### 1.6.5 微博

##### 二级栏目

   * 微博列表

#### 1.6.6 百家号
*  同网站

#### 1.6.7 企鹅号

*  同网站

#### 1.6.8 头条号
*  同网站

#### 1.6.9 抖音

##### 二级栏目

   * 视频稿件列表页面

   * 快速预览视图列表

#### 1.6.10 快手

* 同抖音

#### 1.6.11电视台

* 同网站

#### 1.6.12 广播电台

* 同网站

###  1.7 租户间稿库

#### 1.7.1 收到
* ？暂无数据，待分析

#### 1.7 2 发出
* ？暂无数据，待分析

### 1.8 素材库

####  1.8.1 个人素材

##### 视频

   * 视频素材列表

##### 音频

   * 音频素材列表

##### 图片

   * 图片素材列表

##### 文字

   * 子主题1

#### 1. 8.2 已编素材

##### 视频

   * 视频素材列表

##### 音频

   * 音频素材列表

##### 图片

   * 图片素材列表

####  1.8.3 共享素材

##### 视频

   * 视频素材列表

##### 音频

   * 音频素材列表

##### 图片

   * 图片素材列表

### 1.9  媒资库

##### 视频

* 视频素材列表

##### 音频

* 音频素材列表

##### 图片

* 图片素材列表

## 2. 业务逻辑

### 2.1 一级权限

#### queryOperTypesBySourceModal
```JSON
1.  Classify:source
    
2.  methodname: queryOperTypesBySourceModal
    
3.  serviceid: mlf_metadataright
```

### 2.2 共享稿库

#### 2.2.1 菜单数据

##### 2.2.1.1 一级菜单的展开收起

##### 2.2.1.2 菜单数据queryCategorysWithRight

   * 返回一个树

  * 需要缓存，方便菜单切换后迅速加载

#### 2.2.2 权限数据queryOperKeysOfNormalModal

```JSON
Classify: source.sharedoc
ModalName: 资源中心
methodname: queryOperKeysOfNormalModal
serviceid: mlf_metadataright
```

#### 2.2.3 列表数据

##### 点击一级菜单获取一级菜单下按日期数据数量 queryShareDocsDataCountOfFirst
```JSON
serviceid: mlf_releaseSource
methodname: queryShareDocsDataCountOfFirst
MetaCategoryId: 61
IsUnit: false
CurrPage: 1
PageSize: 20
DocType: 
OriginalType: 
ShareTimeStart: 
ShareTimeEnd: 
```
##### 点击一级菜单获取列表数据queryShareDocsForCloudOfFirst
```JSON
serviceid: mlf_releaseSource
methodname: queryShareDocsForCloudOfFirst
MetaCategoryId: 61
IsUnit: false
CurrPage: 1
PageSize: 10
DocType: 
OriginalType: 
ShareTimeStart: 2021-08-02 00:00:00
ShareTimeEnd: 2021-08-02 23:59:59
takeDraftStatus: 0
singStatus: 0
products: []
```
##### 点击二级菜单获取二级菜单下按日期数据数量 queryShareDocsDataCount
```JSON
serviceid: mlf_releaseSource
methodname: queryShareDocsDataCount
CurrPage: 1
PageSize: 10
MetaCategoryId: 38
DocType: 
ShareTimeStart: 
ShareTimeEnd: 
OriginalType: 
IsUnit: false
fromTenantId: 
```
##### 点击二级菜单获取列表数据queryShareDocsForCloud
```JSON
serviceid: mlf_releaseSource
methodname: queryShareDocsForCloud
CurrPage: 1
PageSize: 10
MetaCategoryId: 38
DocType: 
ShareTimeStart: 2020-11-27 00:00:00
ShareTimeEnd: 2020-11-27 23:59:59
OriginalType: 
IsUnit: false
fromTenantId: 
singStatus: 0
products: []
```
##### 筛选区

###### 取签产品列表 获取所有产品 queryAllSites
```JSON
serviceid: mlf_mediasite
methodname: queryAllSites
```
##### 查询稿件取签标志 queryFlag
```JSON
methodname: queryFlag
serviceid: mlf_releasesource
channelName: gxgk
nodeId: 61
nodename: 分中心的供稿稿库
MetaDataIds: 531820
```
##### 查询稿件取稿标志 queryQuOpers
```JSON
serviceid: mlf_releasesource
methodname: queryQuOpers
MetaDataIds: 531820
```
##### 查询稿件图示 queryAllImgLogo
```JSON
serviceid: mlf_myrelease
methodname: queryAllImgLogo
metadataids: 531820
```
##### 查询集团已发数queryGroupIssuedCounts
```JSON
serviceid: mlf_releaseSource
methodname: queryGroupIssuedCounts
MetaDataIds: 531820
```
##### 查询已关联的渠道和关联渠道的虚拟稿件是否提交 queryMediaRelateAndSubmitStatus
```JSON
serviceid: mlf_fusioncreate
methodname: queryMediaRelateAndSubmitStatus
MetaDataIds: 531820
```
#### 2.2.4 操作

##### 取稿

* 通用操作

##### 取消共享

###### 查询所有分类中相同稿件queryShareCatsByDoc
```JSON
serviceid: mlf_releaseSource
methodname: queryShareCatsByDoc
MetaDataId: 532231
ShareCategoryId: 42
```
  * 如果其他分类中也有相同稿件，需要弹窗选择取消哪几个分类下的共享

###### 取消共享 deleteReleaseOfMyDoc
```JSON
methodname: deleteReleaseOfMyDoc
serviceid: mlf_releaseSource
MetaDataIds: 532231
nodeIds: 42
```
##### 添加到个人素材batchPersonalMaterialOfTxt
```JSON
typeid: zyzx
methodname: batchPersonalMaterialOfTxt
PersonalMaterialId: 0
serviceid: mlf_releasesource
MetaDataIds: 532230
channelName: gxgk
```
##### 收藏 collect
```JSON
typeid: zyzx
serviceid: mlf_myrelease
methodname: collect
channelName: gxgk
MetaDataIds: 532230
```
##### 提前 shareDocsToForward
```JSON
serviceid: mlf_sharedoc
methodname: shareDocsToForward
ShareDocRelIds: 2720
```
##### 打印 

###### 获取稿件详情 query
```JSON
MetaDataId: 532230
methodname: query
serviceid: mlf_metadatalog
```
###### 获取图片 getPicsShareDoc
```JSON
serviceid: mlf_myrelease
methodname: getPicsShareDoc
MetaDataId: 532230
```
##### 导出 exportWordFile
```JSON
serviceid: mlf_exportword
methodname: exportWordFile
MetaDataIds: 
```
##### 邮件外发 iRecordSendEmail
```JSON
Emails: 391655435@qq.com
MetaDataIds: 532230
methodname: iRecordSendEmail
serviceid: mlf_mailoutgoingOper
```
##### 管理员撤稿

###### 查询所有分类中相同稿件queryShareCatsByDoc
```JSON
serviceid: mlf_releaseSource
methodname: queryShareCatsByDoc
MetaDataId: 532231
ShareCategoryId: 42
```
  * 如果其他分类中也有相同稿件，需要弹窗选择取消哪几个分类下的共享

###### 取消共享  deleteRelease
```JSON
methodname: deleteRelease
serviceid: mlf_releasesource
MetaDataIds: 532230
nodeIds: 42r
```
#### 2.2.5 当前问题

* 1. 每次切换一级菜单和二级菜单都要请求一遍权限

* 2. 每次切换一级菜单和二级菜单都要请求一遍所有站点数据

* 3. 进入共享稿库时请求的常用订阅列表目前没看到有什么用

### 2.3宣传部稿库

#### 2.3.1 菜单数据

##### 获取菜单（宣传部稿库分组）getPMGroupTreeByTenantId
```JSON
methodname: getPMGroupTreeByTenantId
serviceid: mlf_pm
```
#### 2.3.2 权限数据queryOperKeysOfNormalModal
```JSON
Classify: source.pmdocs
ModalName: 资源中心
methodname: queryOperKeysOfNormalModal
serviceid: mlf_metadataright
```
#### 2.3.3 列表数据

##### 获取宣传部稿库分组下的稿件按日期的数量 getPMLibList
```JSON
EndTime: 
StartTime: 
groupId: 9
methodname: getPMLibList
serviceid: mlf_pm
```
##### 获取某个日期的稿件getTmyPMDataByDate
```JSON
serviceid: mlf_pm
methodname: getTmyPMDataByDate
StartTime: 2021-05-18 00:00:00
EndTime: 2021-05-18 23:59:59
GroupId: 5
```
##### 获取稿件的标志 queryFlag
```JSON
serviceid: mlf_pm
methodname: queryFlag
dataIds: 675
```
##### 获取取稿操作记录 queryQuOpersList
```JSON
serviceid: mlf_pm
methodname: queryQuOpersList
dataIds: 675
```
##### 查看上级要求 getDocRequirement
```JSON
serviceid: mlf_pm
methodname: getDocRequirement
mediaDocId: 
```
#### 2.3.4 操作

##### 取稿 takPMDocs
```JSON
PaperPubDate: 2021-8-13
serviceid: mlf_pm
methodname: takPMDocs
PMIds: 594
SourceName: 资源中心-宣传部稿库-收到
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog:
```
##### 添加到个人素材PMDocAddPersonalMaterialOfTxt
```JSON
ids: 594
methodname: PMDocAddPersonalMaterialOfTxt
serviceid: mlf_pm
```
#### 2.3. 5 当前问题

* 每次切换分组，都要请求相同的权限

* 从其它菜单切换到宣传部稿库时，权限接口和按日期获取数量的接口重复执行

### 2.4 主题稿库

#### 2.4.1 菜单数据

##### 获取执行主题 queryAllTopics
```JSON
methodname: queryAllTopics
serviceid: mlf_newreport
Status: 0
```
#### 2.4.2 权限数据

* 无

#### 2.4.3 筛选区数据

##### 获取所有发布渠道 getProductRoot
```JSON
typeid: zyzx
modelid: getProductRoot
serviceid: navigation
excludeId: navigation_004006;navigation_004005;navigation_004004
```
##### 获取所有领域 zyzxfield
```JSON
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```
#### 2.4.5 列表数据

##### 获取主题下稿件列表findFromNavigation
```JSON
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: wz
pageSize: 20
pageNum: 1
keyword: {"theme":"月季花香满园春","searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```
##### 获取转载数 findReprintCounts
```JSON
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: 55a476f3ad3902c1,5350d6951c646035,5350d6951c646035,5350d6951c646035,3782d8e5b30db529,70a10d65bce5156b
```
##### 获取图示 getImgList
```JSON
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1283674239355174927,1283674239237734402,1263044543377506304,1263042531629924352,1262709594548011016,1243495984512827392
```
##### 获取操作标志 queryFlag
```JSON
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1283674239355174927,1283674239237734402,1263044543377506304,1263042531629924352,1262709594548011016,1243495984512827392
channelName: jtcpg
typeName: jt_lyzh
nodeId: 疫情
```
#### 2.4.6 操作

##### 取稿 fetch
```JSON
PaperPubDate: 2021-8-13
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1284062284977913856
channelName: jtcpg
typeName: jt_lyzh
nodeId: 经济
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog:
```
##### 添加到个人素材 batchPersonalMaterial
```JSON
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: 经济
guid: 
```
##### 收藏 collect
```JSON
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1284062284977913856
indexName: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: 经济
```
##### 打印  detailData
```JSON
serviceid: jtcpg
modelid: detailData
guid: 1263054106394820608
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```
##### 导出  exportBigDataDocs
```JSON
CHANNELNAMES: jtcpg
GUIDS: 1263054106394820608
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```
#### 2.4.7 当前问题

 * 所有领域筛选项已被屏蔽，但控制器内的逻辑并没有屏蔽，尤其是请求

* 获取发布渠道、所有领域、主题下稿件的请求重复执行

* 没看到有请求权限，后台管理也没看到有主题稿库的权限控制功能

* 切换主题时所有领域和发布渠道也会重新请求

### 2.5 新华社稿

#### 2.5.1 权限数据 获取新华社稿权限queryOperKeysOfNormalModal
```JSON
Classify: source.xinhuadoc
ModalName: 资源中心
methodname: queryOperKeysOfNormalModal
serviceid: mlf_metadataright
```
#### 2.5.2 菜单数据 获取新华社线路分类queryXHSConfigsToJson
```JSON
methodname: queryXHSConfigsToJson
parentId: 30
serviceid: mlf_xhsgsource
status: 0
```
#### 2.5.3 列表数据

##### 获取新华社稿件列表 queryXHSGDocs
```JSON
CURRPAGE: 1
DocClassifyId: 
DocType: 1
DomesticOrInternal: 
OperTimeEnd: 2021-08-12
OperTimeStart: 2021-08-12
PAGESIZE: 20
methodname: queryXHSGDocs
products: []
serviceid: mlf_xhsgsource
singStatus: 0
title: 
```
##### 获取新华社稿标志  queryFlagOfXHSG
```JSON
XHSGSourceIds: 
methodname: queryFlagOfXHSG
serviceid: mlf_xhsgsource
```
#### 2.5.4 筛选数据

##### 获取全部分类 queryDocClassifys
```JSON
methodname: queryDocClassifys
serviceid: mlf_xhsgsource
```
##### 获取全部取签产品 queryAllSites
```JSON
serviceid: mlf_mediasite
methodname: queryAllSites
```
#### 2.5.5 操作

##### 取稿 fetchXHSG
```JSON
PaperPubDate: 2021-8-13
serviceid: mlf_xhsgoper
methodname: fetchXHSG
XHSGSourceIds: 950
SourceName: 资源中心-新华社稿库
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog:
```
##### 添加到个人素材 creations
```JSON
methodname: creations
channelName: 全部分类
serviceid: mlf_xhsgoper
XHSGIds: 950
```
##### 收藏 collects
```JSON
methodname: collects
serviceid: mlf_xhsgoper
XHSGIds: 950
```
##### 打印 获取稿件详情 getNewsXHSG
```JSON
XHSGSourceId: 950
methodname: getNewsXHSG
serviceid: mlf_xhsgsource
```
##### 导出  exportWordFile
```JSON
XHSGIds: 950
methodname: exportWordFile
serviceid: mlf_xhsgoper
```
#### 2.5.6 当前问题

* 列表数据为空时也会请求稿件标志

* 每次切换线路都会请求一遍权限、全部分类、全部产品

### 2.6 新疆日报历史稿库


#### 2.6.1 权限数据

* 目前没有专门权限控制，权限校验在请求类别数据时后端触发


#### 2.6.2 列表数据


##### 查询所有分类 base

```JSON
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```
##### 查询版面列表 getBmList

```JSON
serviceid: history
typeId: zyzx
modelid: getBmList
dataUser: 5
pageSize: 12
pageNum: 1
keyword: {"time":""}
```
##### 频道分类  categoryChannels

```JSON
typeid: zyzx
modelid: categoryChannels
serviceid: szb
channelLike: 
```
##### 快速预览模式


###### 获取文章列表 findFromNavigation

```JSON
typeid: zyzx
serviceid: history
modelId: findFromNavigation
fcode: szb
pageSize: 12
pageNum: 1
media_id: szbhistory542
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```
###### 查询所有分类

同上文

###### 获取文章取签标志 queryFlag

```JSON
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 100103,100112,100131,100126,100127,100107,100111,100123,100109,100116,100121,100130
channelName: jtcpg
typeName: jt_lyzh
nodeId: s
```
###### 获取稿件转发数 findReprintCounts

```JSON
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a157e14b94e09cea,f074057e12f4fcc0,2896e70420ad3c3d,ee304a2e0030dc10,4406c21a7a01ebc6,6f96e1830913cffe,9aac47b29ea9d5e8,568249adf5475f39,ad55cb602c7f5275,9b70d9d585ec62b1,7479f9e2c7acd37e,f87dff26169f71cc
```
###### 获取文章详情 detailData

```JSON
serviceid: jtcpg
modelid: detailData
channelName: jtcpg
guid: 100103
typeid: zyzx
```
##### 普通模式


###### 获取文章列表

* 同快速预览模式

###### 获取转发数
* 同快速预览模式

###### 获取图示  getImgList

```JSON
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 100103,100112,100131,100126,100127,100107,100111,100123,100109,100116,100121,100130
```
###### 获取文章取签标志
* 同快速预览模式

#### 2.6.3 操作


##### 取稿 fetch
```JSON
PaperPubDate: 2021-9-1
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 100103
indexname: product_szb_history_test
channelName: jtcpg
typeName: jt_lyzh
nodeId: szb
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog:
```
##### 添加到个人素材 batchPersonalMaterial
```JSON
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: szb
guid: 100103
```
##### 收藏 collect
```JSON
serviceid: mlf_bigdataexchange
methodname: collect
guid: 100103
indexname: product_szb_history_test
channelName: jtcpg
typeName: jt_lyzh
nodeId: szb
```
##### 打印 detailData
```JSON
serviceid: jtcpg
modelid: detailData
guid: 100103
channelName: jtcpg
typeid: zyzx
indexName: product_szb_history_test
```
##### 导出 exportBigDataDocs
```JSON
CHANNELNAMES: jtcpg
GUIDS: 100103
indexName: product_szb_history_test
methodname: exportBigDataDocs
serviceid: mlf_exportword
```
#### 当前问题
* 新疆日报历史稿库没有用到所有分类，但还是查询了
* 快速预览模式没有展示转发数，但还是查询了
* 频道分类请求到的数据不知道在哪用

### 2.7 成品资源


#### 2.7.1 菜单数据 getProductMedia

```js
1.  serviceid: navigation 
2.  typeid: zyzx
3.  modelid: getProductMedia  
4.  fcode: szb
```

#### 2.7.2 数字报刊
##### 2.7.2.1列表数据

###### 获取全部主题 base

```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取版面列表 getBmList

```js
serviceid: epaper
typeId: zyzx
modelid: getBmList
dataUser: 1
pageSize: 12
pageNum: 1
keyword: {"time":"","keywords":"DC"}
```

###### 获取普通视图和预览视图列表 findFromNavigation

```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: szb
pageSize: 20
pageNum: 1
media_id: szb542
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转发数 findReprintCounts
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: 4bb448bc41d91da1
```

###### 获取稿件图示 getImgList

```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 136653924662270771
```

###### 获取稿件取签标志 queryFlag

```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1366539246622707713
channelName: jtcpg
typeName: jt_lyzh
```

###### 获取预览视图文章详情 detailData

```js
serviceid: jtcpg
modelid: detailData
channelName: jtcpg
guid: 1366539246622707713
typeid: zyzx
```

##### 2.7.2.2 操作

* 版面视图不能操作

###### 取稿 fetch

```js
PaperPubDate: 2021-9-2
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1366539246622707713
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: szb
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog:
```

###### 添加到个人素材 batchPersonalMaterial
```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: szb
guid: 1366539246622707713
```

###### 收藏 collect

```js
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1366539246622707713
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: szb
```

###### 打印 获取文章详情 detailData

```js
serviceid: jtcpg
modelid: detailData
guid: 1366539246622707713
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 exportBigDataDocs

```js
CHANNELNAMES: jtcpg
GUIDS: 1366539246622707713
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

##### 2.7.2.3 当前问题

* 版面视图不应该有操作按钮
* 进入时默认版面视图不应该请求全部主题

#### 2.7.3 网站

##### 2.7.3.1 列表数据

###### 获取全部主题 base

 同数字报

 ###### 获取渠道下所有稿件列表 findFromNavigation

 ```js
 typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: wz
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
 ```

 ###### 获取指定栏目稿件列表 findFromNavigation
 ```js
 typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: wz
pageSize: 20
pageNum: 1
media_id: wz_wcm_12_5 // 多了这个参数
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
 ```

 ###### 获取稿件转发数 findReprintCounts
 ```js
 typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: 0537235b81e57e4e
 ```

 ###### 获取稿件图示 getImgList
 ```js
 typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1432978280178339840
 ```

 ###### 获取取签标志 queryFlag

 ```js
 methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1432978280178339840
typeName: jt_lyzh
 ```

 ###### 预览视图稿件详情 detailData

 ```js
 serviceid: jtcpg
modelid: detailData
channelName: jtcpg
guid: 1432978280178339840
typeid: zyzx
 ```

 ##### 2.7.3.2 操作

 ###### 取稿 fetch

 ```js
 PaperPubDate: 2021-9-4
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1422072419386511360
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: wz
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
 ```

 ###### 添加到个人素材 batchPersonalMaterial

 ```js
 typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: wz
guid: 1433617744290467840
 ```

 ###### 收藏 collect

 ```js
 serviceid: mlf_bigdataexchange
methodname: collect
guid: 1433617744290467840
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: wz
 ```

 ###### 打印 获取稿件详情 detailData

 ```js
 serviceid: jtcpg
modelid: detailData
guid: 1433617744290467840
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
 ```

 ###### 导出 exportBigDataDocs
 ```js
 CHANNELNAMES: jtcpg
GUIDS: 1433617744290467840
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
 ```

 ##### 2.7.3.3 当前问题

 * 点击具体栏目后，再点击渠道名称，栏目高亮没有取消；
 * 预览视图详情页标签无法点击，但显示了手型。

#### 2.7.4 客户端

##### 2.7.4.1 列表数据

###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取站点下的栏目 `categoryChannels`
```js
modelid: categoryChannels
typeid: zyzx
serviceid: app
siteName: 质保APP
```

###### 获取稿件列表 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: app
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1448852126936969216,1448850365140545536
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.4.2 操作

###### 取稿 `fetch`
```js
PaperPubDate: 2021-10-16
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1448852126936969216
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: app
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材`batchPersonalMaterial`
```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: app
guid: 1448852126936969216
```

###### 收藏 `collect`
```js
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1448852126936969216
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: app
```

###### 获取稿件详情`detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1448852126936969216
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 `exportBigDataDocs`
```js
CHANNELNAMES: jtcpg
GUIDS: 1448852126936969216
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

##### 2.7.4.3 当前问题

暂无

#### 2.7.5 微信

##### 2.7.5.1 列表数据

###### 获取所有主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取稿件列表`findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: wx
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

?? 因为测试环境没有数据，暂时无法获得其他接口及请求示例。

#### 2.7.6 微博

?? 因为测试环境没有数据，暂时无法获得其他接口及请求示例。

#### 2.7.7 百家号

##### 2.7.7.1 列表数据

###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取稿件列表 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: app
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识 `queryFlag`
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1448852126936969216,1448850365140545536
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.7.2 操作

###### 取稿- `fetch`
```js
PaperPubDate: 2021-10-19
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1395227530945548288
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: baijiahao
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材 `batchPersonalMaterial`

```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: baijiahao
guid: 1395227530945548288
```

###### 收藏 `collect`
```js
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1395227530945548288
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: baijiahao
```

######  获取文章详情 `detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1395227530945548288
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 `exportBigDataDocs`

```js
CHANNELNAMES: jtcpg
GUIDS: 1395227530945548288
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

#### 2.7.8 企鹅号
##### 2.7.8.1 列表数据
###### 获取频道列表 `getProductMedia`
```js
serviceid: navigation
typeid: zyzx
modelid: getProductMedia
fcode: qie
```

###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取列表数据 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: qie
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识 `queryFlag`
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1301814760427315200,1288784401035649024
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.8.2 操作
##### 取稿 `fetch`
```js
PaperPubDate: 2021-10-19
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1301814760427315200
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: qie
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材 `batchPersonalMaterial`
```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: qie
guid: 1288784401035649024
```

###### 收藏 `collect`

```js
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1301814760427315200
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: qie
```

###### 获取文章详情 `detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1301814760427315200
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 `exportBigDataDocs`

```js
CHANNELNAMES: jtcpg
GUIDS: 1301814760427315200
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

#### 2.7.9 头条号
##### 2.7.9.1 列表数据
###### 获取频道列表 `getProductMedia`
```js
serviceid: navigation
typeid: zyzx
modelid: getProductMedia
fcode: toutiao
```

###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取列表数据 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: toutiao
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识 `queryFlag`
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1301814760427315200,1288784401035649024
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.9.2 操作

###### 取稿 `fetch`
```js
PaperPubDate: 2021-10-20
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1419572445782466560
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: toutiao
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材`batchPersonalMaterial`
```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: toutiao
guid: 1419572445782466560
```

###### 收藏 `collect`
```js
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1419572445782466560
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: toutiao
```

###### 获取文章详情 `detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1419572445782466560
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 `exportBigDataDocs`
```js
CHANNELNAMES: jtcpg
GUIDS: 1419572445782466560
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

#### 2.7.10 抖音

##### 2.7.10.1 列表数据
###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```
###### 获取列表数据 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: douyin
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```
###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识 `queryFlag`
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1301814760427315200,1288784401035649024
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.10.2 操作

###### 取稿`fetch`
```js
PaperPubDate: 2021-10-20
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1418437216200024064
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: douyin
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材
```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: douyin
guid: 1418437216200024064
```

###### 收藏 `collect`
```js
serviceid: mlf_bigdataexchange
methodname: collect
guid: 1418437216200024064
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: douyin
```

###### 获取文章详情 `detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1418437216200024064
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 `exportBigDataDocs`
```js
CHANNELNAMES: jtcpg
GUIDS: 1418437216200024064
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

##### 2.7.10.3 当前问题
* 打印没有反应
* 视频稿需不需要打印和导出功能？如果需要，打印和导出的格式是否应该调整。

#### 2.7.11 快手
* 与抖音一样，`fcode`或`media_id`不同

#### 2.7.12 电视台

##### 2.7.12.1 列表数据
###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取列表数据 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: tv
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识 `queryFlag`
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1301814760427315200,1288784401035649024
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.12.2 操作
###### 取稿 `fetch`
```js
PaperPubDate: 2021-10-20
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1433713877553598464
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: tv
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材 `batchPersonalMaterial`

```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: tv
guid: 1433713877553598464
```

###### 获取文章详情 `detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1404747510526500864
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出 `exportBigDataDocs`
```js
CHANNELNAMES: jtcpg
GUIDS: 1404747510526500864
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword
```

#### 2.7.13 广播电台

##### 2.7.13.1 列表数据
###### 获取全部主题 `base`
```js
serviceid: navigation
typeid: zyzx
modelid: base
parentId: -1
level: 2
excludeId: -1
containParent: false
channelName: jtcpg
typeName: zyzxfield
```

###### 获取列表数据 `findFromNavigation`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findFromNavigation
fcode: broadcast
pageSize: 20
pageNum: 1
keyword: {"searchType":"0","keywords":"","time":"","area":"","zyzxfield":"","isOriginal":"","isHead":"","isRead":"","menuscriptType":""}
```

###### 获取转载数 `findReprintCounts`
```js
typeid: zyzx
serviceid: jtcpg
modelId: findReprintCounts
tags: a68e46875b4266e1,ff13f7f55f7154f6
```

######  获取稿件图示 `getImgList`
```js
typeid: zyzx
modelid: getImgList
serviceid: jtcpg
channelName: jtcpg
guids: 1448852126936969216,1448850365140545536,
```

###### 获取取签标识 `queryFlag`
```js
methodname: queryFlag
serviceid: mlf_bigdataexchange
guids: 1301814760427315200,1288784401035649024
channelName: jtcpg
typeName: jt_lyzh
```

##### 2.7.13.2 操作

###### 取稿 `fetch`
```js
PaperPubDate: 2021-10-20
serviceid: mlf_bigdataexchange
methodname: fetch
guid: 1433713877553598465
indexname: product_formal_test;weixin_formal;weibo_formal
channelName: jtcpg
typeName: jt_lyzh
nodeId: broadcast
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材 `batchPersonalMaterial`
```js
typeid: zyzx
methodname: batchPersonalMaterial
PersonalMaterialId: 0
serviceid: mlf_bigdataexchange
channelName: jtcpg
typeName: jt_lyzh
nodeId: broadcast
guid: 1433713877553598465
```

###### 获取文章详情 `detailData`
```js
serviceid: jtcpg
modelid: detailData
guid: 1433713877553598465
channelName: jtcpg
typeid: zyzx
indexName: product_formal_test;weixin_formal;weibo_formal
```

###### 导出`exportBigDataDocs`
```js
CHANNELNAMES: jtcpg
GUIDS: 1433713877553598465
indexName: product_formal_test;weixin_formal;weibo_formal
methodname: exportBigDataDocs
serviceid: mlf_exportword

```


### 2.8 租户间稿库
#### 2.8.1  收到
#### 2.8.1.1 列表数据
###### 获取日期列表 `receivedGroups`
```js
serviceid: mlf_PluralisticShare
methodname: receivedGroups
type: 
tenantId: 6
CURRPAGE: 1
PAGESIZE: 20
```
###### 获取组织列表 `queryGroupTenantsForMe`
```js
serviceid: mlf_cooperationgroup
methodname: queryGroupTenantsForMe
```
###### 获取列表数据 `receivedList`
```js
serviceid: mlf_PluralisticShare
methodname: receivedList
type: 
tenantId: 6
CURRPAGE: 1
PAGESIZE: 20
startTime: 2020-04-11
endTime: 2020-04-11
```

###### 获取稿件流程标识 `queryFlag`
```js
serviceid: mlf_PluralisticShare
methodname: queryFlag
dataIds: 8,7,6,5,4
```
###### 获取取稿记录 `queryQuOpersList`
```js
serviceid: mlf_PluralisticShare
methodname: queryQuOpersList
dataIds: 8,7,6,5,4
```

##### 2.8.1.2 操作
###### 取稿 `takeArticle`
```js
PaperPubDate: 2021-10-20
serviceid: mlf_PluralisticShare
methodname: takeArticle
dataIds: 8
SourceName: 资源中心-租户间稿库-收到
ToMy: true
xlb: false
Paper: 
Web: 
App: 
MlfApp: 
WeChat: 
tiktok: 
baijiahao: 
TouTiao: 
kuaibao: 
kuaishou: 
MicroBlog: 
```

###### 添加到个人素材 `addPersonalMaterialFromShare`
```js
dataIds: 8
methodname: addPersonalMaterialFromShare
serviceid: mlf_PluralisticShare
```

#### 2.8.2 发出
##### 2.8.2.1 列表数据
###### 获取组织列表 `queryGroupTenantsForMe`
```js
serviceid: mlf_cooperationgroup
methodname: queryGroupTenantsForMe
```

###### 获取收到的列表 `sharedList`

```js
serviceid: mlf_PluralisticShare
methodname: sharedList
type: 
tenantId: 6
CURRPAGE: 1
PAGESIZE: 20
status: 
```

##### 2.8.2.2 操作
###### 撤稿 `shareListWithdraws`
```js
serviceid: mlf_PluralisticShare
methodname: shareListWithdraw
dataIds: 19
```

### 2.9 素材库媒资库
#### 2.9.1 个人素材
##### 2.9.1.1 列表数据
###### 获取视频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: personalmaterial.videos
ModalName: 个人素材库
```
###### 获取音频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: personalmaterial.audios
ModalName: 个人素材库
```
###### 获取图片素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: personalmaterial.pics
ModalName: 个人素材库
```
###### 获取文字素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: personalmaterial.words
ModalName: 个人素材库
```

###### 获取三鉴错误
```js
http://172.16.25.71/bigdata/mr/error_info?
&resourceid=10141
&tenantId=5
&userName=quxian@xj.com
```
###### 获取视频素材列表
```js
http://172.16.25.71/bigdata/mr/personal/2/directSearch?&pageNum=1
&pageSize=8
&sortBy=time
&sortOrder=desc
```

###### 获取音频素材
```js
http://172.16.25.71/bigdata/mr/personal/1/directSearch?&pageNum=1
&pageSize=8
&sortBy=time
&sortOrder=desc
```

###### 获取图片素材
```js
http://172.16.25.71/bigdata/mr/personal/0/directSearch?&pageNum=1
&pageSize=8
&sortBy=time
&sortOrder=desc
```

###### 获取图片智能分类标签列表数据
```js
ttp://172.16.25.71/bigdata/mr/meizi/label/list?&scope=
&keyword=
&pageNum=1
&pageSize=40
&type=person
&ids=
```

###### 检索图片
```js
http://172.16.25.71/bigdata/mr/personal/0/resourceSearch?&pageNum=1&pageSize=8&sortBy=time&sortOrder=desc

{
  "checkStatus": "",
  "customEndTime": "",
  "customStartTime": "",
  "isOriginal": "",
  "mark": 101,
  "name": "",
  "pictureSize": "",
  "pictureType": "",
  "resourceBitRate": "",
  "resourceDuration": "",
  "sourceType": "",
  "zyzxField": "",
  "fileId": 0,
  "isPureMaterial": 2
}
```

##### 2.9.1.2 操作

###### 云视校验视频、音频
```js
https://ys-web.xjmty.com/upload/fileUploadCheck

status: chunkCheck
name: 19b31892e923662bd615244b00f85291
chunkIndex: 1
size: 2767700
userId: 0211243A0D694FBC95A041C82E772EAB
companyId: onair
appCode: oss
blockmd5: dcf900de82e016d8b0f9d2e1bb3dd4f3
```

###### 云视视频、音频上传
```js
https://ys-web.xjmty.com/upload/fileUpload

userId: 0211243A0D694FBC95A041C82E772EAB
appCode: oss
companyId: onair
id: WU_FILE_0
name: 一键排版问题.mp4
type: video/mp4
lastModifiedDate: Mon Aug 17 2020 13:21:18 GMT+0800 (中国标准时间)
size: 8010580
chunks: 2
chunk: 1
file: （二进制）

```

###### 平台上传视频、音频
```js
http://172.16.25.71/bigdata/mr/personal/2/uploadByUrl?

fileName: 一键排版问题
tempUrl: https://ys-oss.xjmty.com/onair/oss/0211243A0D694FBC95A041C82E772EAB/19b31892e923662bd615244b00f85291.mp4?ZmlsZUlk=616e8b24b021360019acba75
bitRate: m

```

###### 平台查询素材详情
```js
http://172.16.25.71/bigdata/mr/personal/2/detail?&relationId=8081
```

###### 新建文件夹
```js
http://172.16.25.71/bigdata/mr/personal/2/newDir?&fileName=111
```

###### 取稿
```js
http://172.16.25.71/bigdata/mr/personal/2/fetch?&relationIds=7043
```

###### 获取所有文件夹
```js
http://172.16.25.71/bigdata/mr/personal/2/getAllFolders?
```

###### 移动
```js
http://172.16.25.71/bigdata/mr/personal/2/move?

fileId: 282
relationIds: 7043
```

###### 上传至共享素材
```js
http://172.16.25.71/bigdata/mr/personal/2/share?&relationIds=7042
```

###### 删除素材
```js
http://172.16.25.71/bigdata/mr/personal/2/delete?

relationIds: 7042
```

###### 素材和文件夹重命名
```js
http://172.16.25.71/bigdata/mr/personal/2/renameFile?

fileName: 222
id: 8082

```

###### 拆条
```js
http://172.16.25.71/bigdata/mr/personal/2/chaitiao?&relationId=6893
```

###### 快编
```js
http://172.16.25.71/bigdata/mr/personal/2/qEdit?&relationId=6893
```

###### 视频信息编辑
```js
http://172.16.25.71/bigdata/mr/personal/2/update?&relationId=6893

{
  "resourceTitle": "深化改革不断激发市场活力",
  "eventmark": "",
  "personmark": "",
  "placemark": "",
  "content": "",
  "thumbimg": null,
  "original": 0,
  "isUpload": 0,
  "fileId": 0,
  "price": null,
  "director": "",
  "planner": "",
  "editdirector": "",
  "postproducer": "",
  "hostess": "",
  "transitiondirector": "",
  "designer": "",
  "reporter": "",
  "editor": "",
  "producer": "",
  "cameraman": "",
  "photographer": "",
  "operator": "",
  "specialeffectartist": ""
}

```

###### 获取取签记录
```js
http://172.16.25.71/bigdata/mr/personal/2/6893/fetch/fetchOrPublishInfo
```

###### 上传图片
```js
http://172.16.25.71/bigdata/mr/personal/0/upload?md5=a7ef262d721c651a338dfda015b894cc

mrEnable: 0
fileId: 0
id: WU_FILE_0
name: page0.png
type: image/png
lastModifiedDate: Thu Oct 31 2019 01:57:24 GMT+0800 (中国标准时间)
size: 32327
file: （二进制）
```

#### 2.9.2 已编素材
###### 获取视频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: editedmaterial.videos
ModalName: 已编素材库
```

###### 获取音频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: editedmaterial.audios
ModalName: 已编素材库
```

###### 获取图片素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: editedmaterial.pics
ModalName: 已编素材库
```

###### 上传至媒资库

```js
http://172.16.25.71/bigdata/mr/edited/0/toMeizi?&relationIds=7880
```

#### 2.9.3 共享素材

###### 获取视频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: sharedmaterial.videos
ModalName: 共享素材库
```

###### 获取音频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: sharedmaterial.audios
ModalName: 共享素材库
```

###### 获取图片素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: sharedmaterial.pics
ModalName: 共享素材库
```

###### 取至个人素材
```
http://172.16.25.71/bigdata/mr/share/0/toPerson?&relationIds=7685
```

#### 2.9.4 媒资库

###### 获取视频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: mzmaterial.videos
ModalName: 媒资素材库
```

###### 获取音频素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: mzmaterial.audios
ModalName: 媒资素材库
```

###### 获取图片素材权限
```js
serviceid: mlf_metadataright
methodname: queryOperKeysOfNormalModal
Classify: mzmaterial.pics
ModalName: 媒资素材库
```

## 3. 总结-架构设计建议
![版权资源思维导图](https://gitee.com/hjb2722404/tuchuang/raw/master/img/202110221753691.png)

版权资源整体业务比较简单，本次建议采用【数据——视图分离】的设计模式，组件只负责内部逻辑与数据展示，而对业务数据的查询、操作逻辑则交给专门的纯业务组件。

### 3.1 公用组件：

* 左侧导航组件 （考虑宽导航与窄导航、多层级栏目问题）
* 取稿弹窗（已完成）
* 表格组件（建议复用绩效考核中的`trsTabel`组件）
* 分页组件（复用绩效考核分页组件）
* 搜索框组件
	* 包含可选的类型下拉选择、输入框、触发按钮
	* 搜索类型下拉选项采用属性传入
	* 默认`placeholder`与 按钮文本都可以属性方式传入
* 日期选择组件（复用绩效考核中的日期组件，复用前再次评审一下）

### 3.2 通用视图组件

* 普通列表视图组件
* 图集列表视图组件
* 版面列表视图组件
* 日期分组列表视图组件
* 快速预览标题列表视图组件
* 视频稿件列表视图组件


### 3.3 专门用途组件
* 微博列表组件
* 素材列表组件


### 3.4 业务处理组件

业务处理组件为中间层，不负责UI状态的变化，它处理UI状态与服务器数据之间的获取和同步，以及数据中间状态的处理。

#### 3.1 通用业务处理组件
* 取稿组件（媒资库取稿不在内）
* 收藏组件（注意大数据收藏、共享稿库收藏、新华社稿收藏需要访问不同服务）
* 导出组件（注意大数据的导出与共享稿库的导出不同）
* 打印组件（视频稿的打印是否沿用现在的方式，还是不提供打印）
* 获取转载数
* 获取图示
* 获取操作标志
* 获取所有主题
* 添加到个人素材（注意共享稿库、新华社稿和大数据的添加到个人素材访问不同服务）

#### 3.2 其它专有业务

* 共享稿库业务
* 新华社稿业务
* 大数据业务
* 媒资业务
